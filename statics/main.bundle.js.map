{"version":3,"sources":["webpack:///webpack/bootstrap 1fb704e5babdf4d55679","webpack:///./statics/modulations.js","webpack:///./statics/Spectro.js"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1fb704e5babdf4d55679","import {Spectro} from './Spectro'\n\n$(document).ready(function() {\n\n\n// get the context from the canvas to draw on\nvar ctx = $(\"#canvas\").get()[0].getContext(\"2d\");\nvar play = false;\n\n\nvar context = new AudioContext();\n\nvar carFreq = parseInt(document.getElementById('carFreq').value);\nvar modAmpl = parseInt(document.getElementById('modAmpl').value);\nvar modFreq = parseInt(document.getElementById('modFreq').value);\n\n\n\nvar fftSize = 1024;\nconst spectro = new Spectro({\n  context, fftSize\n});\n\n\nfunction FM() {\n  // FM Sounds\n  // use the frequency parameter instead and use the gain of the\n  // modulator to set the amplitude of the tremolo\n  masterGain.gain.value = 0.3;\n  var mod = context.createOscillator();\n  var modGain = context.createGain();\n  var car = context.createOscillator();\n  var carGain = context.createGain();\n  modGain.gain.value = modAmpl;\n  mod.frequency.value = modFreq;\n\n  carGain.gain.value = 1;\n  car.frequency.value = carFreq;\n\n  // refresh the values from the sliders\n  setInterval(function() {\n    modGain.gain.value = modAmpl;\n    mod.frequency.value = modFreq;\n    car.frequency.value = carFreq;\n  }, 100);\n\n  mod.start(0);\n  car.start(0);\n\n  mod.connect(modGain);\n  modGain.connect(car.frequency);\n  car.connect(masterGain);\n  masterGain.connect(spectro.analyserNode);\n  spectro.analyserNode.connect(context.destination);\n  return [mod, car];\n}\n// mod.connect(carGain.gain);\nfunction AM() {\n  // AM Sounds\n  // use the gain parameter of the osc: the value of the modulator\n  // will modify the gain of the osc:\n  masterGain.gain.value = 0.3;\n  var mod = context.createOscillator();\n  var modGain = context.createGain();\n  var car = context.createOscillator();\n  var carGain = context.createGain();\n\n  modGain.gain.value = modAmpl;\n  mod.type = 'sine';\n  mod.frequency.value = modFreq;\n\n  // refresh the values from the sliders\n  setInterval(function() {\n    modGain.gain.value = modAmpl;\n    mod.frequency.value = modFreq;\n    car.frequency.value = carFreq;\n  }, 100);\n\n  carGain.gain.value = 1;\n  car.frequency.value = carFreq;\n\n  mod.connect(modGain);\n  mod.connect(carGain.gain);\n\n  car.connect(carGain);\n  carGain.connect(masterGain);\n  masterGain.connect(spectro.analyserNode);\n  spectro.analyserNode.connect(context.destination);\n\n  mod.start(0);\n  car.start(0);\n\n  spectro.frequencyArray = new Uint8Array(spectro.analyserNode.frequencyBinCount);\n  return [mod, car];\n}\n\nvar masterGain = context.createGain();\nmasterGain.gain.value = 0.3;\n\nvar AMGain = [];\nvar FMGain = [];\n\n$('#FM').on(\"click\", function(e) {\n  if (!play) {\n    FMGain = FM();\n    spectro.animate = requestAnimationFrame(()=>spectro.draw());\n    play = true;\n  } else {\n    FMGain[0].stop(0);\n    FMGain[1].stop(0);\n    play = false;\n    cancelAnimationFrame(spectro.animate);\n  }\n});\n$('#AM').on(\"click\", function(e) {\n  if (!play) {\n    AMGain = AM();\n    spectro.animate = requestAnimationFrame(()=>spectro.draw());\n    play = true;\n  } else {\n    AMGain[0].stop(0);\n    AMGain[1].stop(0);\n    play = false;\n    cancelAnimationFrame(spectro.animate);\n  }\n});\n$('#stop').on(\"click\", function(e) {\n  stopFun();\n});\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./statics/modulations.js","export class Spectro {\n  constructor({context, fftSize}) {\n    this.animate;\n    this.analyserNode = context.createAnalyser();\n    this.analyserNode.smoothingTimeConstant = 0.0;\n    this.analyserNode.fftSize = fftSize;\n\n    // Create the array for the data values\n    this.frequencyArray = new Uint8Array(this.analyserNode.frequencyBinCount);\n\n    // Uses the chroma.js library by Gregor Aisch to create a color gradient\n    // download from https://github.com/gka/chroma.js\n    this.colorScale = new chroma.scale('Spectral').domain([1,0]);\n    // Global Variables for Drawing\n    this.column = 0;\n    this.canvasWidth  = 800;\n    this.canvasHeight = 256;\n  }\n  draw() {\n    // Draw the Spectrogram from the frequency array\n    // The array has 512 elements - but truncate at 256\n\n    // Refresh parameter (change in real time)\n    carFreq = parseInt(document.getElementById('carFreq').value);\n    modAmpl = parseInt(document.getElementById('modAmpl').value);\n    modFreq = parseInt(document.getElementById('modFreq').value);\n    this.analyserNode.getByteFrequencyData(this.frequencyArray);\n\n\n    for (var i = 0; i < this.frequencyArray.length; i++) {\n      // Get the color from the color map, draw 1x1 pixel rectangle\n      ctx.fillStyle = this.colorScale(this.frequencyArray[i] / 256.0);\n      ctx.fillRect(this.column,this.canvasHeight - i, 1, 1);\n    }\n    if (play) {\n      // loop around the canvas when we reach the end\n      this.column += 1;\n    }\n\n    if(this.column >= this.canvasWidth) {\n      this.column = 0;\n      this.clearCanvas();\n    }\n    this.animate = requestAnimationFrame(()=>this.draw());\n  }\n  clearCanvas() {\n    ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./statics/Spectro.js"],"sourceRoot":""}